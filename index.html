<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Threatened Species and Communities Data ETL and Analysis • tscr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Threatened Species and Communities Data ETL and Analysis">
<meta property="og:description" content="TSC is DBCAs Threatened Species and Communities Data Portal.
  TSC provides programmatic access to its data through a RESTful API. 
  tscr provides helpers and working examples of getting data in and out of 
  TSCs API, as well as starting points for data visualisations and analyses of 
  TSC data.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">tscr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="divider">
    </li>
<li class="dropdown-header">Setup</li>
    <li>
      <a href="articles/setup.html">Setup tscr</a>
    </li>
    <li class="divider">
    </li>
<li class="dropdown-header">Import</li>
    <li>
      <a href="articles/wacensus.html">Update taxonomic names from WACensus</a>
    </li>
    <li class="divider">
    </li>
<li class="dropdown-header">Access</li>
    <li>
      <a href="articles/occurrences.html">Access taxon or community occurrences</a>
    </li>
    <li class="divider">
    </li>
<li class="dropdown-header">Analyse</li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/dbca-wa/tscr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="tscr-an-r-client-for-the-threatened-species-and-communities-db-tsc-">
<code>tscr</code>: An R client for the Threatened Species and Communities DB (TSC) <img src="reference/figures/tscr_logo.png" align="right" alt="tscr logo" width="120"><a class="anchor" aria-label="anchor" href="#tscr-an-r-client-for-the-threatened-species-and-communities-db-tsc-"></a>
</h1></div>
<!-- badges: start -->

<p>The goal of <code>tscr</code> is to provide read/write access to TSC data, and to provide working examples of analysis and visualisation of TSC data to answer QA, ecological, and management questions as well as working data ETL pipelines.</p>
<div class="section level2">
<h2 id="for-conservation-managers-and-ecologists">For conservation managers and ecologists<a class="anchor" aria-label="anchor" href="#for-conservation-managers-and-ecologists"></a>
</h2>
<p>Here we’ll list working examples of conservation management nature, ecological, or data QA questions answered with TSC data.</p>
<p>Example questions (to be replaced with working examples):</p>
<ul>
<li>How many birds rose in conservation listing status in WA in the past X years?</li>
<li>Which conservation significant plants have been recorded in DBCA District X?</li>
<li>What is the predicted habitat for a taxon known under taxonomic name X?</li>
<li>Generate a formatted PDF and a plain CSV spreadsheet of threatened flora and fauna names in WA.</li>
<li>Generate an interactive map of all accepted occurrences in area X.</li>
<li>List conservation documents coming up for review within the next 6 months.</li>
<li>List occurrences flagged for review.</li>
</ul>
<p>Help us complete this list by filing new “Data export or analysis requests” <a href="https://github.com/dbca-wa/tscr/issues/new/choose" class="external-link">here</a>.</p>
</div>
<div class="section level2">
<h2 id="for-data-engineers">For data engineers<a class="anchor" aria-label="anchor" href="#for-data-engineers"></a>
</h2>
<p>If you wish to run any of the included working examples or create new data analyses, install this package and configure <code>tscr</code> to TSC’s API with your own credentials as outlined below.</p>
<p>Use cases:</p>
<ul>
<li>Update TSC taxonomy from WACensus: <a href="https://dbca-wa.github.io/tscr/articles/wacensus.html"><code>vignette("wacensus", package="tscr")</code></a>)</li>
<li>Create a bulk data export into spreadsheet or GIS formats.</li>
<li>Build your own analyses and reports to answer conservation management, ecological, or QA questions.</li>
<li>ETL of bulk data from third parties (data returns from consultants) into TSC.</li>
</ul>
<p>Install <code>tscr</code>:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install.packages("devtools")</span>
<span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"dbca-wa/tscr"</span>, 
                        dependencies <span class="op">=</span> <span class="cn">TRUE</span>, 
                        upgrade <span class="op">=</span> <span class="st">"ask"</span>,
                        build_vignettes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p>Set up <code>tscr</code>, run <code><a href="https://usethis.r-lib.org/reference/edit.html" class="external-link">usethis::edit_r_environ()</a></code>, add your TSC API Token, then restart your R session.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">TSC_API_TOKEN</span><span class="op">=</span><span class="st">"Token xxx"</span></code></pre></div>
<p>Read <a href="https://dbca-wa.github.io/tscr/articles/setup.html"><code>vignette("setup", package="tscr")</code></a>) to learn more about the configuration of <code>tscr</code>.</p>
<p>Working examples for data access and analyses are available as package vignettes (<code>browseVignettes("tscr")</code>), and as articles <a href="https://dbca-wa.github.io/tscr/index.html">here</a>.</p>
</div>
<div class="section level2">
<h2 id="for-contributors">For contributors<a class="anchor" aria-label="anchor" href="#for-contributors"></a>
</h2>
<p>Found a bug in <code>tscr</code>, need a new <code>tscr</code> feature, or need a working example to generate a data product from TSC? Let us know <a href="https://github.com/dbca-wa/tscr/issues/new/choose" class="external-link">here</a>!</p>
<p>Want to chat about TSC? Join the <a href="https://teams.microsoft.com/l/channel/19%3a20412eea61c949e59460ece939a128cd%40thread.tacv2/General?groupId=920e28d1-f344-429d-a2cb-613103a99b9e&amp;tenantId=7b934664-cdcf-4e28-a3ee-1a5bcca0a1b6" class="external-link">“TSC” group on DBCA’s Teams</a>! (You’ll need a DBCA account to access this group.)</p>
<p>Want to contribute code? Start with the <a href="https://dbca-wa.github.io/tscr/CONTRIBUTING.html">contribution guide</a>, but don’t be afraid to ask for help and submit early PRs.</p>
</div>
<div class="section level2">
<h2 id="for-package-maintainers">For package maintainers<a class="anchor" aria-label="anchor" href="#for-package-maintainers"></a>
</h2>
<p>Tasks that can be run for each release are shown below.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/use_version.html" class="external-link">use_version</a></span><span class="op">(</span>which <span class="op">=</span> <span class="st">"dev"</span><span class="op">)</span> <span class="co"># patch, dev, minor, major</span>

<span class="co"># Rebuild included package data, used for tests and vignettes</span>
<span class="kw"><a href="https://rdrr.io/r/base/source.html" class="external-link">source</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu">here</span><span class="op">(</span><span class="st">"data-raw/make_data.R"</span><span class="op">)</span><span class="op">)</span>

<span class="co"># Tests shall pass</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/test.html" class="external-link">test</a></span><span class="op">(</span><span class="op">)</span>

<span class="fu">styler</span><span class="fu">::</span><span class="fu"><a href="https://styler.r-lib.org/reference/style_pkg.html" class="external-link">style_pkg</a></span><span class="op">(</span><span class="op">)</span>
<span class="fu">lintr</span><span class="fu">:::</span><span class="fu">addin_lint_package</span><span class="op">(</span><span class="op">)</span> <span class="co"># some lint errors are OK</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/document.html" class="external-link">document</a></span><span class="op">(</span>roclets <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"rd"</span>, <span class="st">"collate"</span>, <span class="st">"namespace"</span>, <span class="st">"vignette"</span><span class="op">)</span><span class="op">)</span>
<span class="fu">spelling</span><span class="fu">::</span><span class="fu">spell_check_package</span><span class="op">(</span><span class="op">)</span>
<span class="fu">spelling</span><span class="fu">::</span><span class="fu">spell_check_files</span><span class="op">(</span><span class="st">"README.Rmd"</span>, lang <span class="op">=</span> <span class="st">"en_AU"</span><span class="op">)</span>
<span class="fu">spelling</span><span class="fu">::</span><span class="fu">update_wordlist</span><span class="op">(</span><span class="op">)</span>
<span class="fu">codemetar</span><span class="fu">::</span><span class="fu">write_codemeta</span><span class="op">(</span><span class="op">)</span>
<span class="kw">if</span> <span class="op">(</span><span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="https://fs.r-lib.org/reference/file_info.html" class="external-link">file_info</a></span><span class="op">(</span><span class="st">"README.md"</span><span class="op">)</span><span class="op">$</span><span class="va">modification_time</span> <span class="op">&lt;</span>
  <span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="https://fs.r-lib.org/reference/file_info.html" class="external-link">file_info</a></span><span class="op">(</span><span class="st">"README.Rmd"</span><span class="op">)</span><span class="op">$</span><span class="va">modification_time</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu">rmarkdown</span><span class="fu">::</span><span class="fu"><a href="https://pkgs.rstudio.com/rmarkdown/reference/render.html" class="external-link">render</a></span><span class="op">(</span><span class="st">"README.Rmd"</span>, encoding <span class="op">=</span> <span class="st">"UTF-8"</span>, clean <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
  <span class="kw">if</span> <span class="op">(</span><span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="https://fs.r-lib.org/reference/file_access.html" class="external-link">file_exists</a></span><span class="op">(</span><span class="st">"README.html"</span><span class="op">)</span><span class="op">)</span> <span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="https://fs.r-lib.org/reference/delete.html" class="external-link">file_delete</a></span><span class="op">(</span><span class="st">"README.html"</span><span class="op">)</span>
<span class="op">}</span>
<span class="co">#</span>
<span class="co"># Checks</span>
<span class="fu">goodpractice</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/goodpractice/man/gp.html" class="external-link">goodpractice</a></span><span class="op">(</span>quiet <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/check.html" class="external-link">check</a></span><span class="op">(</span>cran <span class="op">=</span> <span class="cn">FALSE</span>, remote <span class="op">=</span> <span class="cn">TRUE</span>, incoming <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#</span>
<span class="co"># Add new feature to news if user-facing</span>
<span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/edit_file.html" class="external-link">edit_file</a></span><span class="op">(</span><span class="st">"NEWS.md"</span><span class="op">)</span>

<span class="co"># Commit and push</span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/dbca-wa/tscr/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/dbca-wa/tscr/issues/new/choose" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing tscr</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Florian W. Mayer <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-4269-4242" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>DBCA <br><small class="roles"> Copyright holder, funder </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/dbca-wa/tscr/actions" class="external-link"><img src="https://github.com/dbca-wa/tscr/workflows/tic/badge.svg" alt="CI"></a></li>
<li><a href="https://codecov.io/gh/dbca-wa/tscr?branch=master" class="external-link"><img src="https://codecov.io/gh/dbca-wa/tscr/branch/master/graph/badge.svg" alt="Test coverage"></a></li>
<li><a href="https://github.com/dbca-wa/tscr/commits/master" class="external-link"><img src="https://img.shields.io/github/last-commit/dbca-wa/tscr.svg" alt="Last-changedate"></a></li>
<li><a href="https://github.com/dbca-wa/tscr/issues" class="external-link"><img src="https://img.shields.io/github/issues/dbca-wa/tscr.svg?style=popout" alt="GitHub issues"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Florian W. Mayer, DBCA.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
